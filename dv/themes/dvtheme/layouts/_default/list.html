{{define "main"}}

<div class="taglist">


{{range $name, $taxonomy := .Site.Taxonomies.tags}} {{ $cnt := .Count }}
    {{ with $.Site.GetPage (printf "/tags/%s" $name) }}
    <div class="taglist_tag">
        <div class="taglist_button">
            <a href={{ .RelPermalink }} title="All pages with tag <i>{{$name}}</i>">{{$name}}</a>
            <div class="taglist_count">({{$cnt}}) </div>
        </div>
    </div>

    {{end}}
{{end}}
</div>


        <div id="recent_posts-container">

        <!-- Ranges through content/posts/*.md -->
        {{ range .Pages }}

            <a href="{{ .Permalink }}" class="blogpreview">

                <span class="blogpreview_date">{{ .Date | time.Format "Jan 2, 2006" }}</span>

                <img class ="blogpreview_cover" src="{{.Params.Cover}}" alt="">

                <div class="blogpreview_outline-container">
                    <span class="blogpreview_title">{{ .Title }}</span>

                    <span class="blogpreview_author">by {{.Params.Author}}</span>
                </div>
            </a>
            {{ end }}
        </div>
{{end}}




